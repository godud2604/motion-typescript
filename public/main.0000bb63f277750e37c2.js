(()=>{"use strict";class t extends class{constructor(t){const e=document.createElement("template");e.innerHTML=t,this.element=e.content.firstElementChild}attachTo(t,e="afterbegin"){t.insertAdjacentElement(e,this.element)}removeFrom(t){if(t!==this.element.parentElement)throw new Error("Parent mismatch!");t.removeChild(this.element)}}{constructor(){super('<section class="dialog">\n            <div class="dialog-container">\n              <div class="close-btn-wrap">\n                <button class="close">&times;</button>\n              </div>\n              <div id="dialog-body"></div>\n              <button class="dialog-submit">ADD</button>\n            </div>\n          </section>'),this.element.querySelector(".close").onclick=()=>{this.closeListener&&this.closeListener()},this.element.querySelector(".dialog-submit").onclick=()=>{this.submitListener&&this.submitListener()}}setOnCloseListener(t){this.closeListener=t}setOnSubmitListener(t){this.submitListener=t}addChild(t){const e=this.element.querySelector("#dialog-body");t.attachTo(e)}}class e{constructor(e){console.log(e),document.querySelector("#add-btn").addEventListener("click",(()=>{console.log("클릭"),(new t).attachTo(e)}))}}class n{constructor(){}setTitle(t){document.title=t}getHtml(){return t=this,e=void 0,i=function*(){return""},new((n=void 0)||(n=Promise))((function(o,s){function a(t){try{r(i.next(t))}catch(t){s(t)}}function c(t){try{r(i.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}r((i=i.apply(t,e||[])).next())}));var t,e,n,i}onAddDialog(){}}var i=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{r(i.next(t))}catch(t){s(t)}}function c(t){try{r(i.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}r((i=i.apply(t,e||[])).next())}))};const o=[{path:"/",view:class extends n{constructor(){super(),this.setTitle("Image")}getHtml(){return t=this,e=void 0,i=function*(){return'\n      <Button type="button" id="dialog-add-image">Add</Button>\n      <h1>Welcome back, Dom</h1>\n      <p>\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate adipisci, dolorem, labore eaque non ut rem blanditiis odio optio, reiciendis eos veritatis sequi! Aut, obcaecati nemo doloremque eum eius nesciunt, dolores molestiae, totam provident officia cupiditate. Eaque, illum mollitia, nam porro tempore aut, qui rem quo sapiente saepe fugiat esse.\n      </p>\n    '},new((n=void 0)||(n=Promise))((function(o,s){function a(t){try{r(i.next(t))}catch(t){s(t)}}function c(t){try{r(i.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}r((i=i.apply(t,e||[])).next())}));var t,e,n,i}onAddDialog(){}},btn:"Image Add"},{path:"/todo",view:class extends n{constructor(){super(),this.setTitle("Todo")}getHtml(){return t=this,e=void 0,i=function*(){return"\n      <h1>Todo</h1>\n      <p>\n        Todo\n      </p>\n    "},new((n=void 0)||(n=Promise))((function(o,s){function a(t){try{r(i.next(t))}catch(t){s(t)}}function c(t){try{r(i.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}r((i=i.apply(t,e||[])).next())}));var t,e,n,i}},btn:"Todo Add"},{path:"/note",view:class extends n{constructor(){super(),this.setTitle("Note")}getHtml(){return t=this,e=void 0,i=function*(){return"\n      <h1>Note</h1>\n      <p>\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate adipisci, dolorem, labore eaque non ut rem blanditiis odio optio, reiciendis eos veritatis sequi! Aut, obcaecati nemo doloremque eum eius nesciunt, dolores molestiae, totam provident officia cupiditate. Eaque, illum mollitia, nam porro tempore aut, qui rem quo sapiente saepe fugiat esse.\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate adipisci, dolorem, labore eaque non ut rem blanditiis odio optio, reiciendis eos veritatis sequi! Aut, obcaecati nemo doloremque eum eius nesciunt, dolores molestiae, totam provident officia cupiditate. Eaque, illum mollitia, nam porro tempore aut, qui rem quo sapiente saepe fugiat esse.\n      </p>\n    "},new((n=void 0)||(n=Promise))((function(o,s){function a(t){try{r(i.next(t))}catch(t){s(t)}}function c(t){try{r(i.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}r((i=i.apply(t,e||[])).next())}));var t,e,n,i}},btn:"Note Add"}],s=()=>i(void 0,void 0,void 0,(function*(){const t=o.map((t=>({route:t,isMatch:location.pathname===t.path})));a(t)})),a=t=>i(void 0,void 0,void 0,(function*(){var e;let n=null!==(e=t.find((t=>t.isMatch)))&&void 0!==e?e:{route:o[0],isMatch:!0};const{route:i}=n,s=i&&new i.view;if(null!=s&&null!=i){const t=document.querySelector("#app"),e=document.querySelector("#add-btn");t.innerHTML=yield s.getHtml(),e.innerHTML=i.btn}}));window.addEventListener("popstate",s),document.addEventListener("DOMContentLoaded",(()=>{document.body.addEventListener("click",(t=>{let e=t.target;var n;e.matches("[data-link]")&&(t.preventDefault(),n=e.href,history.pushState({},"",n),s())})),s(),new e(document.querySelector("#app"))}))})();